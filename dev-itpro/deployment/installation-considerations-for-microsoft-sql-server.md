---
title: "Installation Considerations"
description: Describes the requirements for installing and configuring Microsoft SQL Server to work with Business Central.
ms.date: 01/06/2025
ms.topic: conceptual
author: jswymer
---

# Installation considerations for Microsoft SQL Server and Business Central

This article describes the requirements for installing and configuring Microsoft SQL Server to work with [!INCLUDE[prod_short](../developer/includes/prod_short.md)].  

[!INCLUDE[prod_short](../developer/includes/prod_short.md)] can run on Microsoft SQL Server and Microsoft Azure SQL Database. For a list of supported editions of SQL Server, refer to [SQL Server Requirements](system-requirement-business-central.md#SQLReq).  

## Using Microsoft SQL Server

### Storage

Use different disks or disk partitions for:

- Windows operating system.
- Data files for the system databases.
- Log files for system and user databases.
- Data and log files for the TempDB database.

For optimal read/write performance, format disks used for SQL Server data files with a 64-KB block size.

### Virus scanning

Use antivirus software to protect computers running Microsoft SQL Server. Learn more in [Configure antivirus software to work with SQL Server](https://aka.ms/chooseantivirussoftwareforsqlserver).

### Memory

Maximize available memory on the server for optimal read performance, based on the SQL Server version and edition. Refer to the SQL Server documentation for maximum values.

### SQL Server components
  
When installing Microsoft SQL Server for use with [!INCLUDE[prod_short](../developer/includes/prod_short.md)], install at least the following components:
  
- Database Engine Services  
- Client Tools Connectivity  
- Management Tools - Complete  

### Setup options for Microsoft SQL Server
  
When you're running Microsoft SQL Server Setup, you must provide additional information. Your responses can affect how you use SQL Server with [!INCLUDE[prod_short](../developer/includes/prod_short.md)]. 

#### Full-text and semantic extractions for search

> **APPLIES TO:** Business Central 2024 release wave 2, version 25, and later

**Full-text and Semantic Extractions for Search** must be installed on the SQL Server instance. Learn how to check whether this feature is installed and install it at [Install and Configure Semantic Search](/sql/relational-databases/search/install-and-configure-semantic-search).

Business Central uses the full-text feature to support the modern search capability on fields in list pages. Learn more in [Searching](/dynamics365/business-central/ui-enter-criteria-filters#searching).

#### TempDB database configuration

For servers with fewer than eight cores, create as many data files for the TempDB database as the number of cores. For servers with more than eight cores, start with eight data files, and increment with four files at a time, if needed.

Make sure that all data files for the TempDB database are of the same size.

Consider placing TempDB data and log files on a local SSD if using SAN storage.

#### Data file and log file configuration

Autogrowth of the database or transaction log files in production can degrade performance because transactions must queue up and wait for SQL Server to grow the file before it can begin to process transactions again. This behavior can create bottlenecks. We strongly recommend growing data and log files during off-peak periods and by 10% to 25% of the current size. We don't recommend disabling autogrow. In an emergency, it's better that to have SQL Server autogrow files than run out of disk space and bring the database down.

#### Max degree of parallelism (MAXDOP)

The SQL queries generated by the [!INCLUDE[server](../developer/includes/server.md)] are of OLTP (Online Transaction Processing) type, including many small transactions. We recommend running [!INCLUDE[prod_short](../developer/includes/prod_short.md)] with `MAXDOP` set to the value 1 as a starting point. Depending on the number of cores on your database server, you can increase this number. It isn't recommended to set `MAXDOP` to 0, because one query might use all resources on the databases, lowering availability for other queries.

On SQL Server 2016 and later, `MAXDOP` can be set on the database level, changing a database scoped configuration. 

Both advanced server configuration options and database scoped configurations can be set by using SQL Server Management Studio. Learn more in [Server configuration: max degree of parallelism](/sql/database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option).

> [!NOTE]
> If you're running SQL Server Enterprise Edition, index maintenance can be done in parallel. If you run maintenance jobs to do this work in off-peak hours, you might want to set `MAXDOP` back to 0 while running these jobs. On SQL Server 2016 and later, it's possible to set MAXDOP directly in the Rebuild Index Task wizard.

#### Instance configuration
  
If you plan on installing the [!INCLUDE[prod_short](../developer/includes/prod_short.md)] Demo database, and you want [!INCLUDE[prod_short](../developer/includes/prod_short.md)] Setup to use an already installed version of SQL Server \(and not to install SQL Server Express\), you must create a SQL Server instance named **BCDEMO** in SQL Server before you run Setup. Otherwise, Setup installs SQL Server Express automatically, even if there's a valid version of SQL Server already on the computer. If you don't plan to install the Demo database, or if you have no objection to using SQL Server Express, you're free to use the **default instance** and **Instance ID** on the **Instance Configuration** page, or to specify any instance name.  

### Database engine service

A separate Windows service runs each SQL Server instance. The following two things are important to configure for these services

#### Startup options

Enable trace flags 1117 and 1118 as startup options. These trace flags are incorporated into the default settings. Startup options can be set by using SQL Server Configuration Manager. Learn more in [SQL Server Configuration Manager: Configure server startup options](/sql/database-engine/configure-windows/scm-services-configure-server-startup-options).

#### Service account

We recommend using dedicated domain user accounts for the Windows services running your [!INCLUDE[server](../developer/includes/server.md)] instances and your SQL Server instances instead of a Local System account or the Network Service account.  

The [!INCLUDE[server](../developer/includes/server.md)] account must have privileges on the SQL Server instances and on [!INCLUDE[prod_short](../developer/includes/prod_short.md)] databases. Learn more in [Provisioning the Server Service Account](provision-server-account.md).

Consider adding the service account for the SQL Server engine to the **Perform Volume Maintenance Tasks** security policy.

### Database configurations

After [!INCLUDE[prod_short](../developer/includes/prod_short.md)] is installed, it's important to check a few settings on the [!INCLUDE[prod_short](../developer/includes/prod_short.md)] databases. This task is especially important for databases upgraded from previous versions of SQL Server.

#### Statistics

Set the AUTO_CREATE_STATISTICS and AUTO_UPDATE_STATISTICS options on [!INCLUDE[prod_short](../developer/includes/prod_short.md)] databases to ON, the default setting.

SQL Server uses a threshold that adjusts according to the number of rows in the table. With this change, statistics on large tables are updated more often.

Even with AUTO_UPDATE_STATISTICS on, we strongly recommend running a periodic SQL Agent job to update statistics because AUTO_UPDATE_STATISTICS is triggered only according to the rules described above. On large tables with tens of millions of records (such as Value Entry, Item Ledger Entry, and G/L Entry), a small percentage of data in a given statistic such as [Entry No.] can change and have a material effect on the overall data distribution in that statistic. This behavior can cause inefficient query plans, resulting in degraded query performance until any threshold is reached. We recommend using the T-SQL procedure "sp_updatestats" to update statistics because it only update statistics for data that changes. We recommend creating a SQL Agent Job that runs daily or weekly (depending on transaction volume) during off-peak hours to update all statistics for changed data.

#### Index fragmentation

Another important administration task that helps to reduce data size and improve performance is to reduce fragmentation for tables and nonclustered indexes. This article in the SQL Server documentation is a good starting point to learn more: [Resolve index fragmentation by reorganizing or rebuilding indexes](/sql/relational-databases/indexes/reorganize-and-rebuild-indexes).

#### Other database options

We recommend setting the database option PAGE_VERIFY to the value CHECKSUM for all databases (including TEMPDB) because it provides the most robust method of detecting physical database corruption. CHECKSUM is the default setting for new installations.

### Backup

Set up backups for both system and user databases. Regularly test restore procedures.

## Using Microsoft Azure SQL Database
  
You can deploy a [!INCLUDE[prod_short](../developer/includes/prod_short.md)] database to Azure SQL Database. Azure SQL Database is a cloud service that provides data storage as a part of the Azure Services Platform.  

To optimize performance, we recommend that the [!INCLUDE[server](../developer/includes/server.md)] instance that connects to the database is also deployed on a virtual machine in Azure. Additionally, the virtual machine and SQL Database must be in the same Azure region.  

For development and maintenance work on [!INCLUDE[prod_short](../developer/includes/prod_short.md)] applications, if the [!INCLUDE[prod_short](../developer/includes/prod_short.md)] is installed on the same virtual machine in Azure as the [!INCLUDE[server](../developer/includes/server.md)], then you can connect to the Azure SQL database from the [!INCLUDE[nav_dev_short](../developer/includes/nav_dev_short_md.md)].  

Learn more in [Deploying a Business Central Database to Azure SQL Database](deploy-database-azure-sql-database.md).  

## Data Encryption between [!INCLUDE[server](../developer/includes/server.md)] and SQL Server

When SQL Server and [!INCLUDE[server](../developer/includes/server.md)] run on different computers, secure the data channel by encrypting the connection with IPSec. Other encryption options aren't supported. Learn more at [Encrypting Connections to SQL Server](/previous-versions/sql/sql-server-2008-r2/ms189067(v=sql.105)).  

## Integrating directly on SQL Server objects

[!INCLUDE[sql_integration_warning](../includes/include-sql-integrations.md)]

## Related information

[Data Access](../administration/optimize-sql-data-access.md)  
[Troubleshooting: SQL Server Connection Problems](../administration/Troubleshooting-SQL-Server-Connection-Problems.md)  
[Deployment](Deployment.md)  
