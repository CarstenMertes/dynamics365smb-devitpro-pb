---
title: Cloud migration setup overview 
description: Gives an overview of what happens you set up cloud migration for Dynamics SL. 
author: jswymer
ms.author: jswymer
ms.reviewer: jswymer
ms.topic: install-set-up-deploy
ms.date: 12/13/2024
ms.custom: bap-template
---
# Cloud migration setup overview

The first phase of cloud migration is the setup, done by running the **Cloud Migration Setup** from the destination Business Central online environment. This task doesn't migrate data but establishes the connection and pipeline between the on-premises and online tenant databases.

## Detailed flow

The following figure illustrates the flow of the cloud migration setup:

![Shows the flow for cloud migration setup ](../developer/media/cloud-migration-setup-process.png)

The following steps detail the phases in the process:

1. Run the **Cloud Migration Setup** and specify:
   - SQL database connection (SQL Server or Azure SQL Database) and the SQL connection string.
   - The integration runtime to use. Use an existing instance or install a new one with an autogenerated authentication key.

1. The integration runtime registers with an Azure Data Factory, exchanging the authentication key to establish the connection.

   There are several Azure Data Factories available. Load balancing automatically selects the factory from available options.
1. Preparation pipeline is created:

   1. Checks the compatibility between the source and destination databases, for example do the compatibility levels and versions match.
   2. If checks succeed, stored procedures are created on the source and destination side.
   3. Gets a list of companies from the source database and a list of extensions installed on the destination.
   4. Creates a list of tables to be migrated to the destination and how they should be copied.
1. A preparation pipeline is created:

   1. Checks compatibility between the source and destination databases (for example, compatibility levels and versions).
   1. If checks succeed, creates stored procedures on both sides.
   1. Retrieves a list of companies from the source database and extensions installed on the destination.
   1. Creates a list of tables to be migrated and their copy methods.
1. A replication pipeline is created based on the previous step's information.

   This pipeline copies the data and remains idle until you initiate replication.
1. The environment is marked as ready for migration, and the preparation pipeline is deleted.

After completing one or more replication runs, run the data upgrade, then complete the migration.

## Cloud migration setup telemetry

[!INCLUDE [cloud-migration-telemetry](../developer/includes/cloud-migration-telemetry.md)]

## Next steps

1. [Define migration table mappings](migration-table-mapping.md) (Business Central on-premises migration only)
2. Complete one of the following tasks depending on the product you're migrating from:

   - [Run data migration setup for Business Central on-premises migration](migration-setup.md)
   - [Run data migration setup for Dynamics GP](migration-setup-gp.md)
   - [Run data migration setup for Dynamics SL](migration-setup-sl.md)
